from faker import Faker
fake = Faker()
print("\nGenerando tarjetas matemáticamente válidas (Luhn Check)...\n")
for _ in range(5):
    print(fake.credit_card_full())
    print("-" * 20)
cat <<EOF > validador.py
import random
def generar_luhn(prefijo, longitud):
    # Genera los primeros n-1 dígitos
    numero = [int(x) for x in prefijo]
    while len(numero) < longitud - 1:
        numero.append(random.randint(0, 9))
    
    # Cálculo de Luhn para el último dígito
    suma = 0
    reversa = numero[::-1]
    for i, digito in enumerate(reversa):
        if i % 2 == 0:
            d = digito * 2
            if d > 9: d -= 9
            suma += d
        else:
            suma += digito
            
    digito_verificador = (10 - (suma % 10)) % 10
    numero.append(digito_verificador)
    return "".join(map(str, numero))
print("\n--- GENERADOR MATEMÁTICO (LUHN) ---")
for _ in range(5):
    # 4000 es el prefijo estándar de Visa
    num = generar_luhn("4000", 16)
    mes = str(random.randint(1, 12)).zfill(2)
    anio = random.randint(2026, 2030)
    cvv = random.randint(100, 999)
    
    print(f"Número: {num}")
    print(f"Fecha:  {mes}/{anio}  |  CVV: {cvv}")
    print("-" * 35)
EOF
exit()
